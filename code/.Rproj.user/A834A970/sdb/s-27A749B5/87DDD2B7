{
    "collab_server" : "",
    "contents" : "library(dplyr)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(viridis)\nlibrary(svglite)\n\nin.path <- \"../Data/summary_data\"\n\nlidar_summary <- read.csv(\"../Data/summary_data/lidar_summary_data_3.csv\")\n\nlidar_summary$tile <- factor(lidar_summary$tile)\nlidar_summary$resolution <- factor(lidar_summary$resolution)\n\nlidar_summary_5 <- lidar_summary %>%\n  filter(resolution == 5)\n\nlidar_summary_10 <- lidar_summary %>% \n  filter(resolution == 10)\n\nlidar_summary_15 <- lidar_summary %>% \n  filter(resolution == 15)\n\nlidar_summary_25 <- lidar_summary %>% \n  filter(resolution == 25)\n\nlidar_summary_30 <- lidar_summary %>% \n  filter(resolution == 30)\n\nlidar_summary_50 <- lidar_summary %>% \n  filter(resolution == 50)\n\nlidar_summary_60 <- lidar_summary %>% \n  filter(resolution == 60)\n\nlidar_summary_100 <- lidar_summary %>% \n  filter(resolution == 100)\n\nlidar_summary_120 <- lidar_summary %>% \n  filter(resolution == 120)\n\nlidar_summary_250 <- lidar_summary %>% \n  filter(resolution == 250)\n\nlidar_summary_500 <- lidar_summary %>% \n  filter(resolution == 500)\n\nlidar_summary_1000 <- lidar_summary %>% \n  filter(resolution == 1000)\n\noutlier_filter <- function(dat, col){\n col <- enquo(col)\n dat %>% \n   filter(!(abs((!!col) - median(!!col))>(2*sd(!!col))))\n}\n\nlidar_summary_5_max_height_outlier_filter <- outlier_filter(lidar_summary_5, max_height)\nlidar_summary_10_max_height_outlier_filter <- outlier_filter(lidar_summary_10, max_height)\nlidar_summary_15_max_height_outlier_filter <- outlier_filter(lidar_summary_15, max_height)\nlidar_summary_25_max_height_outlier_filter <- outlier_filter(lidar_summary_25, max_height)\nlidar_summary_30_max_height_outlier_filter <- outlier_filter(lidar_summary_30, max_height)\nlidar_summary_50_max_height_outlier_filter <- outlier_filter(lidar_summary_50, max_height)\nlidar_summary_60_max_height_outlier_filter <- outlier_filter(lidar_summary_60, max_height)\nlidar_summary_100_max_height_outlier_filter <- outlier_filter(lidar_summary_100, max_height)\nlidar_summary_120_max_height_outlier_filter <- outlier_filter(lidar_summary_120, max_height)\nlidar_summary_250_max_height_outlier_filter <- outlier_filter(lidar_summary_250, max_height)\nlidar_summary_500_max_height_outlier_filter <- outlier_filter(lidar_summary_500, max_height)\nlidar_summary_1000_max_height_outlier_filter <- outlier_filter(lidar_summary_1000, max_height)\n\nlidar_max_height_outlier_filter <- rbind(lidar_summary_5_max_height_outlier_filter, lidar_summary_10_max_height_outlier_filter,\n                                         lidar_summary_15_max_height_outlier_filter, lidar_summary_25_max_height_outlier_filter,\n                                         lidar_summary_30_max_height_outlier_filter, lidar_summary_50_max_height_outlier_filter,\n                                         lidar_summary_60_max_height_outlier_filter, lidar_summary_100_max_height_outlier_filter, \n                                         lidar_summary_120_max_height_outlier_filter, lidar_summary_250_max_height_outlier_filter,\n                                         lidar_summary_500_max_height_outlier_filter, lidar_summary_1000_max_height_outlier_filter)\n                                         \nlidar_summary_5_mean_height_outlier_filter <- outlier_filter(lidar_summary_5, mean_height)\nlidar_summary_10_mean_height_outlier_filter <- outlier_filter(lidar_summary_10, mean_height)\nlidar_summary_15_mean_height_outlier_filter <- outlier_filter(lidar_summary_15, mean_height)\nlidar_summary_25_mean_height_outlier_filter <- outlier_filter(lidar_summary_25, mean_height)\nlidar_summary_30_mean_height_outlier_filter <- outlier_filter(lidar_summary_30, mean_height)\nlidar_summary_50_mean_height_outlier_filter <- outlier_filter(lidar_summary_50, mean_height)\nlidar_summary_60_mean_height_outlier_filter <- outlier_filter(lidar_summary_60, mean_height)\nlidar_summary_100_mean_height_outlier_filter <- outlier_filter(lidar_summary_100, mean_height)\nlidar_summary_120_mean_height_outlier_filter <- outlier_filter(lidar_summary_120, mean_height)\nlidar_summary_250_mean_height_outlier_filter <- outlier_filter(lidar_summary_250, mean_height)\nlidar_summary_500_mean_height_outlier_filter <- outlier_filter(lidar_summary_500, mean_height)\nlidar_summary_1000_mean_height_outlier_filter <- outlier_filter(lidar_summary_1000, mean_height)\n\nlidar_mean_height_outlier_filter <- rbind(lidar_summary_5_mean_height_outlier_filter, lidar_summary_10_mean_height_outlier_filter,\n                                         lidar_summary_15_mean_height_outlier_filter, lidar_summary_25_mean_height_outlier_filter,\n                                         lidar_summary_30_mean_height_outlier_filter, lidar_summary_50_mean_height_outlier_filter,\n                                         lidar_summary_60_mean_height_outlier_filter, lidar_summary_100_mean_height_outlier_filter, \n                                         lidar_summary_120_mean_height_outlier_filter, lidar_summary_250_mean_height_outlier_filter,\n                                         lidar_summary_500_mean_height_outlier_filter, lidar_summary_1000_mean_height_outlier_filter)\n\nlidar_summary_5_rugosity_outlier_filter <- outlier_filter(lidar_summary_5, rugosity)\nlidar_summary_10_rugosity_outlier_filter <- outlier_filter(lidar_summary_10, rugosity)\nlidar_summary_15_rugosity_outlier_filter <- outlier_filter(lidar_summary_15, rugosity)\nlidar_summary_25_rugosity_outlier_filter <- outlier_filter(lidar_summary_25, rugosity)\nlidar_summary_30_rugosity_outlier_filter <- outlier_filter(lidar_summary_30, rugosity)\nlidar_summary_50_rugosity_outlier_filter <- outlier_filter(lidar_summary_50, rugosity)\nlidar_summary_60_rugosity_outlier_filter <- outlier_filter(lidar_summary_60, rugosity)\nlidar_summary_100_rugosity_outlier_filter <- outlier_filter(lidar_summary_100, rugosity)\nlidar_summary_120_rugosity_outlier_filter <- outlier_filter(lidar_summary_120, rugosity)\nlidar_summary_250_rugosity_outlier_filter <- outlier_filter(lidar_summary_250, rugosity)\nlidar_summary_500_rugosity_outlier_filter <- outlier_filter(lidar_summary_500, rugosity)\nlidar_summary_1000_rugosity_outlier_filter <- outlier_filter(lidar_summary_1000, rugosity)\n\nlidar_rugosity_outlier_filter <- rbind(lidar_summary_5_rugosity_outlier_filter, lidar_summary_10_rugosity_outlier_filter,\n                                          lidar_summary_15_rugosity_outlier_filter, lidar_summary_25_rugosity_outlier_filter,\n                                          lidar_summary_30_rugosity_outlier_filter, lidar_summary_50_rugosity_outlier_filter,\n                                          lidar_summary_60_rugosity_outlier_filter, lidar_summary_100_rugosity_outlier_filter, \n                                          lidar_summary_120_rugosity_outlier_filter, lidar_summary_250_rugosity_outlier_filter,\n                                          lidar_summary_500_rugosity_outlier_filter, lidar_summary_1000_rugosity_outlier_filter)\n\nlidar_summary_5_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_5, vertical_diversity)\nlidar_summary_10_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_10, vertical_diversity)\nlidar_summary_15_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_15, vertical_diversity)\nlidar_summary_25_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_25, vertical_diversity)\nlidar_summary_30_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_30, vertical_diversity)\nlidar_summary_50_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_50, vertical_diversity)\nlidar_summary_60_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_60, vertical_diversity)\nlidar_summary_100_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_100, vertical_diversity)\nlidar_summary_120_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_120, vertical_diversity)\nlidar_summary_250_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_250, vertical_diversity)\nlidar_summary_500_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_500, vertical_diversity)\nlidar_summary_1000_vertical_diversity_outlier_filter <- outlier_filter(lidar_summary_1000, vertical_diversity)\n\nlidar_vertical_diversity_outlier_filter <- rbind(lidar_summary_5_vertical_diversity_outlier_filter, lidar_summary_10_vertical_diversity_outlier_filter,\n                                                 lidar_summary_15_vertical_diversity_outlier_filter, lidar_summary_25_vertical_diversity_outlier_filter,\n                                                 lidar_summary_30_vertical_diversity_outlier_filter, lidar_summary_50_vertical_diversity_outlier_filter,\n                                                 lidar_summary_60_vertical_diversity_outlier_filter, lidar_summary_100_vertical_diversity_outlier_filter, \n                                                 lidar_summary_120_vertical_diversity_outlier_filter, lidar_summary_250_vertical_diversity_outlier_filter,\n                                                 lidar_summary_500_vertical_diversity_outlier_filter, lidar_summary_1000_vertical_diversity_outlier_filter)\n\nlidar_summary_5_openness_outlier_filter <- outlier_filter(lidar_summary_5, openness)\nlidar_summary_10_openness_outlier_filter <- outlier_filter(lidar_summary_10, openness)\nlidar_summary_15_openness_outlier_filter <- outlier_filter(lidar_summary_15, openness)\nlidar_summary_25_openness_outlier_filter <- outlier_filter(lidar_summary_25, openness)\nlidar_summary_30_openness_outlier_filter <- outlier_filter(lidar_summary_30, openness)\nlidar_summary_50_openness_outlier_filter <- outlier_filter(lidar_summary_50, openness)\nlidar_summary_60_openness_outlier_filter <- outlier_filter(lidar_summary_60, openness)\nlidar_summary_100_openness_outlier_filter <- outlier_filter(lidar_summary_100, openness)\nlidar_summary_120_openness_outlier_filter <- outlier_filter(lidar_summary_120, openness)\nlidar_summary_250_openness_outlier_filter <- outlier_filter(lidar_summary_250, openness)\nlidar_summary_500_openness_outlier_filter <- outlier_filter(lidar_summary_500, openness)\nlidar_summary_1000_openness_outlier_filter <- outlier_filter(lidar_summary_1000, openness)\n\nlidar_openness_outlier_filter <- rbind(lidar_summary_5_openness_outlier_filter, lidar_summary_10_openness_outlier_filter,\n                                       lidar_summary_15_openness_outlier_filter, lidar_summary_25_openness_outlier_filter,\n                                       lidar_summary_30_openness_outlier_filter, lidar_summary_50_openness_outlier_filter,\n                                       lidar_summary_60_openness_outlier_filter, lidar_summary_100_openness_outlier_filter, \n                                       lidar_summary_120_openness_outlier_filter, lidar_summary_250_openness_outlier_filter,\n                                       lidar_summary_500_openness_outlier_filter, lidar_summary_1000_openness_outlier_filter)\n\ntheme_christine <- function (base_size = 12, base_family = \"\") {\n  #theme_minimal(base_size = base_size, base_family = base_family) %+replace% \n    theme(\n      ##axis properties\n      axis.text.x = element_text(colour = \"grey\", size = 20),\n      axis.text.y = element_text(colour = \"grey\", size = 20),\n      axis.title.x = element_text(colour = \"grey\", size = 24),\n      axis.title.y = element_text(colour = \"grey\", angle=90, size = 24),\n      \n      ##panel properties\n      panel.background = element_rect(fill=\"black\"),\n      panel.grid.major.y = element_line(size=0),\n      panel.grid.major.x = element_blank(),\n      \n      ##plot background\n      plot.background = element_rect(fill=\"black\"),\n      \n      ##legend properties\n      legend.background = element_rect(fill=\"black\"),\n      legend.key = element_blank(),\n      legend.text = element_text(colour = \"grey\", size = 16),\n      legend.position = \"bottom\",\n      legend.title = element_text(colour = \"grey\", size = 18)\n      \n      )   \n}\n\nmax_height_plot <- ggplot(lidar_max_height_outlier_filter, aes(x=resolution, y=max_height, colour = \"#56B4E9\"))+\n  geom_boxplot(fill = \"#E69F00\", colour = \"white\", notch = TRUE) +\n  theme_christine() +\n  #scale_fill_manual(values = c(\"#56B4E9\", \"#E69F00\"), name = \"Topography\", \n                   # breaks=c(\"high\", \"low\"), labels = c(\"High relief\", \"Low relief\")) +\n  #scale_colour_manual(values = c(\"grey\")) +\n  guides(fill = \"legend\", colour = \"none\") +\n  labs(x = \"Grid cell length (m)\", y = \"Maximum height (m)\")\n\nmean_height_plot <- ggplot(lidar_mean_height_outlier_filter, aes(x=resolution, y=mean_height))+\n  geom_boxplot(fill = \"#E69F00\", colour = \"white\", notch = TRUE) +\n  theme_christine() +\n  #scale_fill_manual(values = c(\"#56B4E9\", \"#E69F00\"), name = \"Topography\", \n                   # breaks=c(\"high\", \"low\"), labels = c(\"High relief\", \"Low relief\")) +\n  #scale_colour_manual(values = c(\"grey\")) +\n  guides(fill = \"legend\", colour = \"none\") +\n  labs(x = \"Grid cell length (m)\", y = \"Mean height (m)\")\n\nrugosity_plot <- ggplot(lidar_rugosity_outlier_filter, aes(x=resolution, y=rugosity))+\n  geom_boxplot(fill = \"#E69F00\", colour = \"white\", notch = TRUE) +\n  theme_christine() +\n  #scale_fill_manual(values = c(\"#56B4E9\", \"#E69F00\"), name = \"Topography\", \n                    #breaks=c(\"high\", \"low\"), labels = c(\"High relief\", \"Low relief\")) +\n  #scale_colour_manual(values = c(\"grey\")) +\n  guides(fill = \"legend\", colour = \"none\") +\n  labs(x = \"Grid cell length (m)\", y = \"Rugosity (m)\")\n\nvertical_diversity_plot <- ggplot(lidar_vertical_diversity_outlier_filter, aes(x=resolution, y=vertical_diversity))+\n  geom_boxplot(fill = \"#E69F00\", colour = \"white\", notch = TRUE) +\n  theme_christine() +\n  #scale_fill_manual(values = c(\"#56B4E9\", \"#E69F00\"), name = \"Topography\", \n                    #breaks=c(\"high\", \"low\"), labels = c(\"High relief\", \"Low relief\")) +\n  #scale_colour_manual(values = c(\"grey\")) +\n  guides(fill = \"legend\", colour = \"none\") +\n  labs(x = \"Grid cell length (m)\", y = \"Vertical diversity\")\n\nopeness_plot <- ggplot(lidar_openness_outlier_filter, aes(x=resolution, y=openness))+\n  geom_boxplot(fill = \"#E69F00\", colour = \"white\", notch = TRUE) +\n  theme_christine() +\n  #scale_fill_manual(values = c(\"#56B4E9\", \"#E69F00\"), name = \"Topography\", \n                    #breaks=c(\"high\", \"low\"), labels = c(\"High relief\", \"Low relief\")) +\n  #scale_colour_manual(values = c(\"grey\")) +\n  guides(fill = \"legend\", colour = \"none\") +\n  labs(x = \"Grid cell length (m)\", y = \"Canopy Openness (%)\")\n\nopenness_density_plot <- ggplot(lidar_openness_outlier_filter, aes(openness, fill = resolution, colour = resolution))+\n  geom_density(alpha = 0.1) +\n  theme_christine() +\n  scale_colour_viridis(discrete = TRUE) +\n  scale_fill_viridis(discrete = TRUE)\n\n  labs(x = \"Resolution\")#, y = \"Openness\")\n\nvertical_diversity_density_plot <- ggplot(lidar_vertical_diversity_outlier_filter, aes(vertical_diversity, fill = resolution, colour = resolution))+\n    geom_density(alpha = 0.1) +\n    theme_christine() +\n    scale_colour_viridis(discrete = TRUE) +\n    scale_fill_viridis(discrete = TRUE)\n\nrugosity_density_plot <- ggplot(lidar_mean_height_outlier_filter, aes(rugosity, fill = resolution, colour = resolution))+\n  geom_density(alpha = 0.1) +\n  theme_christine() +\n  scale_colour_viridis(discrete = TRUE) +\n  scale_fill_viridis(discrete = TRUE)\n\nmean_height_density_plot <- ggplot(lidar_mean_height_outlier_filter, aes(mean_height, fill = resolution, colour = resolution))+\n  geom_density(alpha = 0.1) +\n  theme_christine() +\n  scale_colour_viridis(discrete = TRUE) +\n  scale_fill_viridis(discrete = TRUE)\n\nmax_height_density_plot <- ggplot(lidar_max_height_outlier_filter, aes(max_height, fill = resolution, colour = resolution))+\n  geom_density(alpha = 0.1) +\n  theme_christine() +\n  scale_colour_viridis(discrete = TRUE) +\n  scale_fill_viridis(discrete = TRUE)\n\nmax_height_plot\nggsave(\"max_height_plot.svg\", plot = last_plot(), units = \"in\", width = 9, height = 6, dpi = 600)\n\nmean_height_plot\nggsave(\"mean_height_plot.svg\", plot = last_plot(), units = \"in\", width = 9, height = 6, dpi = 600)\n\nrugosity_plot\nggsave(\"rugosity_plot.svg\", plot = last_plot(), units = \"in\", width = 9, height = 6, dpi = 600)\n\nvertical_diversity_plot\nggsave(\"vertical_diversity_plot.svg\", plot = last_plot(), units = \"in\", width = 9, height = 6, dpi = 600)\n\nopeness_plot\nggsave(\"openness_plot.svg\", plot = last_plot(), units = \"in\", width = 9, height = 6, dpi = 600)\n\n  ",
    "created" : 1500484543578.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "538607972",
    "id" : "87DDD2B7",
    "lastKnownWriteTime" : 1506645283,
    "last_content_update" : 1506645283072,
    "path" : "~/lidar-scaling/code/summary_plots.R",
    "project_path" : "summary_plots.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}